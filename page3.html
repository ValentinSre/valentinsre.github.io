<html>
	<head>
		<script> 
		
		function play(idPlayer, control) {
			var player = document.querySelector('#' + idPlayer);
			if (player.paused) {
				player.play();
				control.textContent = 'Pause';
			} else {
				player.pause();
				control.textContent = 'Play';
			}
		}

		function pause(idPlayer) {
 			var player = document.querySelector('#' + idPlayer);
			player.currentTime = 0;
			player.pause();
		}
			
		function update(player) {
   			var duration = player.duration;    // Durée totale
			var time = player.currentTime; // Temps écoulé
			var fraction = time / duration;
			var percent  = Math.ceil(fraction * 100);
 			var progress = document.querySelector('#progressBar');
			progress.style.width = percent + '%';
			progress.textContent = percent + '%';
		}
			
		</script> 
	</head>
	<body>
		<audio id="audioPlayer" ontimeupdate="update(this)">

		  <source src="mickael-miro-lhorloge-tourne.mp3"></source>

		</audio>
	
		<div>
  			<div id="progressBarControl">
    				<div id="progressBar">Pas de lecture</div>
			</div>
		</div>

		<button class="control" onclick="play('audioPlayer', this)">Play</button>

		<button class="control" onclick="pause('audioPlayer')">Stop</button>
	</body>
</html>
